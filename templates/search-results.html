<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--
        <link rel="stylesheet" href="../CSS/search-results-style.css">

    -->
    
    <link rel="stylesheet" href="{{ url_for('static' , filename ='CSS/search-results-style.css') }}">


    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;400;500;700;900&family=Sen:wght@400;700;800&display=swap"      rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=New+Tegomin&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500&display=swap" rel="stylesheet">
   
    <!-- add -->
    <link rel="stylesheet" href="{{ url_for('static' , filename ='CSS/styles.css') }}">
    <!-- block -->
    
    <link rel="stylesheet" href="{{ url_for('static' , filename ='CSS/carousel.css') }}">
    <title>Search Results</title>
</head>

<body>
    <div class="navbar">
        <div class="navbar-container">
            <div class="logo-container">
                <h1 class="logo">What Watch Next ?</h1>
            </div>
            <div class="menu-container">
                <ul class="menu-list">
                    <li class="menu-list-item active">Home</li>
                    <!-- <li class="menu-list-item">Movies</li> -->
                    <li class="menu-list-item">Popular</li>
                    <li class="menu-list-item">Trends</li>

                </ul>
            </div>
        </div>
    </div>
	<div class="search-bar">
		<form method="POST" action="{{ url_for('search')}}">
            <div class="tb">
                <input name="movie_name" class="search-movie" type="text" placeholder="Search for Movie">
                <div id="s-cover">
                    <button type="submit">
                        <div id="s-circle"></div>
                        <span></span>
                    </button>
                </div>
            </div>
	    </form> 
	</div>


    <!-- START -->
    <div class="M">
      <div class="flexbox-container">
        <div class="flexbox-item-1">
        <h3>    
        <p><b>Movie Title:          {{movien[0][0]}} </b></p>
        
        <br>
        <p><b>Movie Rating:        {{movien[0][2]}}</b></p>
        
        <br>
        <p><b>Movie Release Date:  {{movien[0][3]}}</b></p>
        
       <br>
        <p><b>Movie Overview :     {{movien[0][1]}}</b></p><br>
        <p><b>Platform Genre :     {{movien[0][4]}}</b></p><br>
       </h3>
        </div>
        <div class="flexbox-item flexbox-item-2">
            <img src="{{movien[0][5]}}" width="500" height="350">
        </div>
      </div>
<!--
<div class=F>
    <B> CAST </B>
</div>
-->
 <div class="R">
    <div class="container1">
      <a href="{{ url_for('cast1') }}" target="_blank">
        <img src="{{movien[2][2]}}" class="cast-image"></a>
        <div class="overlay">
          <div class="text">{{movien[2][0]}} AS {{movien[2][1]}}</div>
        </div>
    </div>
      <div class="container1">
        <a href="{{ url_for('cast2') }}" target="_blank">
        <img src="{{movien[6][2]}}" class="cast-image"></a>
        <div class="overlay">
          <div class="text">{{movien[6][0]}} AS {{movien[6][1]}}</div>
        </div>
      </div>
      
      <div class="container1">
        <a href="{{ url_for('cast3') }}" target="_blank">
        <img src="{{movien[3][2]}}" class="cast-image"></a>
        <div class="overlay">
          <div class="text">{{movien[3][0]}} AS {{movien[3][1]}}</div>
        </div>
      </div>
      <div class="container1">
        <a href="{{ url_for('cast4') }}" target="_blank">
        <img src="{{movien[4][2]}}" class="cast-image"></a>
        <div class="overlay">
          <div class="text">{{movien[4][0]}} AS {{movien[4][1]}}</div>
        </div>
      </div>
      <div class="container1">
        <a href="{{ url_for('cast5') }}" target="_blank">
        <img src="{{movien[5][2]}}" class="cast-image"></a>
        <div class="overlay">
          <div class="text">{{movien[5][0]}} As The {{movien[5][1]}}</div>
        </div>
      </div> 
    
 </div>
</div>  
   

 <!-- end -->
 <div class="container">
    <div class="arrow">
        <img class="left" src="{{ url_for('static' , filename ='Images/left.webp') }}" onclick="nextImage()">
    </div>
    <div class="carousel">
        <div class="movies" id="movies">
        </div>
    </div>
    <div class="arrow">
        <img class="right" src="{{ url_for('static' , filename ='Images/right.webp') }}" onclick="prevImage()">
    </div>
</div>
<script>
    recommended_movies = JSON.parse({{ get_recom | tojson }});
    console.log(recommended_movies)
    var no_of_movies = recommended_movies["title"].length;
    var movies = document.getElementById("movies");
    console.log(movies);

    for(var i=0; i<no_of_movies; i++){
        var movie_div = document.createElement("div");
        movie_div.className = "movie";
        
        var movie_name = document.createElement("H3");
        movie_name.className = "movie-name";
        var movie_name_text = document.createTextNode(recommended_movies["title"][i]);
        movie_name.appendChild(movie_name_text);
        console.log(movie_name);
    
        var movie_info = document.createElement("div");
        movie_info.className = "movie-info";
    
        var movie_image = document.createElement("img");
        // movie_image.src = "https://image.tmdb.org/t/p/original"+recommended_movies['poster_path'];
        // movie_image.src = "G:\SEM VI\Mini Project\What-Watch-Next\static\Images\2.jpeg";
        movie_image.alt = recommended_movies["title"][i];
    
        var info_hover = document.createElement("div");
        info_hover.className = "info-hover";
    
        var data = document.createElement("div")
        var data_p = document.createElement("p");
        var data_p_text = document.createTextNode(recommended_movies["overview"][i]);

        data_p.appendChild(data_p_text);
        data.appendChild(data_p);
        info_hover.appendChild(data);
        movie_info.appendChild(movie_image);
        movie_info.appendChild(info_hover);
        movie_div.appendChild(movie_name);
        movie_div.appendChild(movie_info);

        movies.appendChild(movie_div)
        var myElem = document.getElementsByClassName('movie');
        if (myElem[0] === null){
            console.log('does not exist!');
        }
    }
</script>
<script src="{{ url_for('static' , filename ='js-files/slideshow.js') }}"></script>

</body>

</html>